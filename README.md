# 企业内部聊天系统

## 项目简介

基于Java Swing的企业内部即时通讯工具，包含用户端和后台管理端，旨在为企业员工提供高效的内部沟通平台。支持一对一聊天、群聊、消息管理、好友管理等功能。

## 项目功能

### 用户端
- **注册登录：**用户可以通过注册账号并登录系统。
- **好友管理：**支持添加好友、删除好友、查看好友列表。
- **消息收发：**支持一对一聊天、群聊，消息实时推送。
- **历史记录：**查看与好友或群聊的历史消息。
- **新消息提醒：**实时提醒用户收到的新消息。

### 后台管理端
- **用户监控：**实时监控在线用户状态。
- **聊天记录管理：**查看所有用户的聊天记录。
- **公告管理：**管理员可以向所有在线用户发送系统公告。

## 技术栈

- **前端：**Java Swing
- **后端：**Java
- **数据库：**MySQL
- **网络通信：**Java网络编程、多线程、Java IO
- **数据库连接池：**Druid

## 项目亮点

- **C/S架构：**采用客户端-服务器架构，支持高并发的消息处理。
- **多线程优化：**通过多线程技术优化消息收发效率，支持多用户同时在线。
- **心跳机制：**引入心跳机制，定时发送心跳包，检测客户端连接状态，避免假死问题。
- **简洁易用的GUI界面：**设计了简洁易用的图形用户界面，提升用户操作体验。

## 数据库设计

用户表（`user`）

好友消息表（`friend_message`）

群聊信息表（`group_info`）

群聊消息表（`group_message`）

好友关系表（`friends`）

群成员表（`group_member`）

## 数据库连接池配置

项目使用阿里巴巴的Druid连接池来管理数据库连接，提升系统性能。配置文件`druid.properties`包含以下配置项：

- `driverClassName`：数据库驱动类名（MySQL）。
- `url`：数据库连接URL，包含数据库名称、时区设置、字符编码等。
- `username`：数据库用户名。
- `password`：数据库密码。
- `initialSize`：连接池初始容量。
- `maxActive`：连接池最大活跃连接数。
- `minIdle`：连接池最小空闲连接数。
- `maxWait`：获取连接的最大等待时间（毫秒）。

## 项目结构

在csdn上展示项目分析：[【Java Swing 项目】企业内部聊天系统-CSDN博客](https://blog.csdn.net/m0_46582737/article/details/145932851?spm=1001.2014.3001.5502)

## 项目内部运行流程

1. **启动服务端：**服务端启动后，监听指定端口，等待客户端连接。
2. **客户端连接：**客户端通过Socket连接到服务端，服务端为每个客户端创建一个独立的线程处理请求。
3. **请求处理：**服务端根据客户端发送的协议类型，调用相应的控制器方法处理请求。
4. **返回结果：**服务端将处理结果返回给客户端，客户端根据结果更新界面或执行后续操作。
5. **消息推送：**服务端通过缓存的在线用户列表，实时向目标用户推送消息。

## 如何运行

1. **克隆项目：**
   ```bash
   git clone https://github.com/your-repo/enterprise-chat-system.git
   ```
2. **导入项目：**使用IDE（如IntelliJ IDEA）导入项目。
3. **配置数据库：**修改`druid.properties`文件中的数据库连接信息。
4. **启动服务端：**运行`StarterServer.java`启动服务端。
5. **启动客户端：**运行`StartClient.java`启动客户端。
